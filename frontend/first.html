<!DOCTYPE html>

<html class="light" lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>AgriHealth</title>
<link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@400;500;600;700;800&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#00d4aa",
                        "primary-dark": "#00b899",
                        "background-light": "#0a1628",
                        "background-dark": "#050d18",
                        "surface-light": "#111c2d",
                        "surface-dark": "#0d1520",
                        "accent": "#7c3aed",
                        "accent-light": "#a78bfa",
                    },
                    fontFamily: {
                        "display": ["Public Sans", "sans-serif"]
                    },
                    borderRadius: {"DEFAULT": "1rem", "lg": "2rem", "xl": "3rem", "2xl": "4rem", "full": "9999px"},
                },
            },
        }
    </script>
<style>
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html, body {
            width: 100%;
            height: 100%;
            overflow-x: hidden;
        }
        
        /* Glassmorphism effect */
        .glass {
            background: rgba(17, 28, 45, 0.7);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Button glow effect */
        .btn-glow {
            box-shadow: 0 0 30px rgba(0, 212, 170, 0.4), 0 0 60px rgba(0, 212, 170, 0.2);
            transition: all 0.4s ease;
        }
        
        .btn-glow:hover {
            box-shadow: 0 0 40px rgba(0, 212, 170, 0.6), 0 0 80px rgba(0, 212, 170, 0.3);
            transform: translateY(-3px) scale(1.02);
        }
        
        .btn-glow:active {
            transform: translateY(0) scale(0.98);
        }
        
        /* Gradient text */
        .gradient-text {
            background: linear-gradient(135deg, #00d4aa 0%, #7c3aed 50%, #00d4aa 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            background-size: 200% 200%;
            animation: gradient-shift 4s ease infinite;
        }
        
        @keyframes gradient-shift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        /* Floating animation */
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .floating {
            animation: float 2s ease-in-out infinite;
        }
        
        /* Pulse animation for stats */
        .stat-card {
            transition: all 0.3s ease;
        }
        
        .stat-card:hover {
            transform: scale(1.05);
            background: rgba(0, 212, 170, 0.1);
            border-radius: 1rem;
        }
        
        /* Navigation button effects */
        .nav-btn {
            transition: all 0.3s ease;
            position: relative;
        }
        
        .nav-btn:hover {
            transform: translateY(-5px);
        }
        
        .nav-btn.active::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 4px;
            background: #00d4aa;
            border-radius: 50%;
            box-shadow: 0 0 10px #00d4aa;
        }
        
        /* Hero image overlay animation */
        .hero-overlay {
            background: linear-gradient(135deg, rgba(0, 212, 170, 0.2) 0%, rgba(124, 58, 237, 0.2) 100%);
        }
        
        /* Shimmer effect */
        .shimmer {
            position: relative;
            overflow: hidden;
        }
        
        .shimmer::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }
    </style>
  </head>
<body class="bg-background-light font-display min-h-screen flex flex-col antialiased">

<!-- Sidebar Overlay -->
<div id="sidebarOverlay" class="fixed inset-0 bg-black/60 z-40 hidden transition-opacity duration-300" onclick="closeSidebar()"></div>

<!-- Sidebar -->
<div id="sidebar" class="fixed top-0 left-0 h-full w-80 bg-background-dark z-50 transform -translate-x-full transition-transform duration-300 flex flex-col">
    <!-- Sidebar Header -->
    <div class="flex items-center justify-between px-6 py-6 border-b border-white/10">
        <h3 class="gradient-text text-xl font-bold">Menu</h3>
        <button onclick="closeSidebar()" class="w-10 h-10 rounded-full glass flex items-center justify-center text-primary hover:bg-primary/30 transition-all">
            <span class="material-symbols-outlined">close</span>
        </button>
    </div>
    
    <!-- Sidebar Menu Items -->
    <div class="flex-1 overflow-y-auto py-4">
        <!-- History Button -->
        <button onclick="showHistory()" class="w-full flex items-center gap-4 px-6 py-4 text-white hover:bg-primary/20 transition-all duration-300">
            <span class="material-symbols-outlined text-primary text-2xl">history</span>
            <div class="text-left">
                <span class="font-semibold block">History</span>
                <span class="text-xs text-gray-400">View uploaded diseases</span>
            </div>
            <span class="material-symbols-outlined text-gray-500 ml-auto">chevron_right</span>
        </button>
        
        <!-- Account Button -->
        <button onclick="showAccount()" class="w-full flex items-center gap-4 px-6 py-4 text-white hover:bg-primary/20 transition-all duration-300">
            <span class="material-symbols-outlined text-primary text-2xl">account_circle</span>
            <div class="text-left">
                <span class="font-semibold block">Account</span>
                <span class="text-xs text-gray-400">View profile details</span>
            </div>
            <span class="material-symbols-outlined text-gray-500 ml-auto">chevron_right</span>
        </button>
    </div>
</div>

<!-- History Modal -->
<div id="historyModal" class="fixed inset-0 bg-black/80 z-50 hidden flex items-center justify-center p-4">
    <div class="bg-background-dark rounded-3xl w-full max-w-md max-h-[80vh] overflow-hidden flex flex-col">
        <!-- History Header -->
        <div class="flex items-center justify-between px-6 py-5 border-b border-white/10">
            <h3 class="text-xl font-bold text-white flex items-center gap-2">
                <span class="material-symbols-outlined text-primary">history</span>
                Analysis History
            </h3>
            <button onclick="closeHistory()" class="w-10 h-10 rounded-full glass flex items-center justify-center text-primary hover:bg-primary/30 transition-all">
                <span class="material-symbols-outlined">close</span>
            </button>
        </div>
        
        <!-- History Content -->
        <div class="flex-1 overflow-y-auto p-6">
            <!-- Stats Summary -->
            <div class="glass rounded-2xl p-4 mb-6">
                <div class="flex justify-between items-center">
                    <div class="text-center flex-1">
                        <span id="totalUploads" class="text-3xl font-bold text-primary">0</span>
                        <p class="text-xs text-gray-400">Total Uploads</p>
                    </div>
                    <div class="w-px h-12 bg-primary/30"></div>
                    <div class="text-center flex-1">
                        <span id="diseasesFound" class="text-3xl font-bold text-red-400">0</span>
                        <p class="text-xs text-gray-400">Diseases Found</p>
                    </div>
                    <div class="w-px h-12 bg-primary/30"></div>
                    <div class="text-center flex-1">
                        <span id="healthyPlants" class="text-3xl font-bold text-green-400">0</span>
                        <p class="text-xs text-gray-400">Healthy</p>
                    </div>
                </div>
            </div>
            
            <!-- History List -->
            <div id="historyList" class="space-y-4">
                <div class="text-center text-gray-500 py-8">
                    <span class="material-symbols-outlined text-5xl mb-2">folder_open</span>
                    <p>No history found</p>
                    <p class="text-sm">Start scanning to see your history</p>
                </div>
            </div>
            
            <!-- Suggestions -->
            <div class="mt-6 glass square-2xl p-4">
                <h4 class="font-semibold text-primary mb-3 flex items-center gap-2">
                    <span class="material-symbols-outlined text-lg">lightbulb</span>
                    Suggestions
                </h4>
                <ul id="suggestions" class="text-sm text-gray-300 space-y-2">
                    <li class="flex items-start gap-2">
                        <span class="text-primary">•</span>
                        Regular scanning helps early disease detection
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="text-primary">•</span>
                        Keep photos in good lighting for better accuracy
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="text-primary">•</span>
                        Follow treatment recommendations promptly
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- Account Modal -->
<div id="accountModal" class="fixed inset-0 bg-black/80 z-50 hidden flex items-center justify-center p-4">
    <div class="bg-background-dark rounded-3xl w-full max-w-md max-h-[80vh] overflow-hidden flex flex-col">
        <!-- Account Header -->
        <div class="flex items-center justify-between px-6 py-5 border-b border-white/10">
            <h3 class="text-xl font-bold text-white flex items-center gap-2">
                <span class="material-symbols-outlined text-primary">account_circle</span>
                Account Details
            </h3>
            <button onclick="closeAccount()" class="w-10 h-10 rounded-full glass flex items-center justify-center text-primary hover:bg-primary/30 transition-all">
                <span class="material-symbols-outlined">close</span>
            </button>
        </div>
        
        <!-- Account Content -->
        <div class="flex-1 overflow-y-auto p-6">
            <!-- Profile Photo -->
            <div class="flex flex-col items-center mb-6">
                <div id="profilePhoto" class="w-28 h-28 rounded-2xl bg-primary/20 flex items-center justify-center overflow-hidden border-4 border-primary/30 mb-4 shadow-lg">
                    <span class="material-symbols-outlined text-6xl text-primary">person</span>
                </div>
                <h4 id="holderName" class="text-xl font-bold text-white">Guest User</h4>
                <p id="userEmail" class="text-sm text-gray-400">Not logged in</p>
            </div>
            
            <!-- Account Info -->
            <div class="glass square-2xl p-4 mb-4">
                <h4 class="font-semibold text-primary mb-3 flex items-center gap-2">
                    <span class="material-symbols-outlined text-lg">badge</span>
                    Personal Details
                </h4>
                <div class="space-y-3">
                    <div class="flex items-center gap-3 p-2 rounded-xl bg-white/5">
                        <span class="material-symbols-outlined text-primary">person</span>
                        <div class="flex-1">
                            <p class="text-xs text-gray-500">Full Name</p>
                            <p id="fullName" class="text-white font-medium">Farmer User</p>
                        </div>
                    </div>
                    <div class="flex items-center gap-3 p-2 rounded-xl bg-white/5">
                        <span class="material-symbols-outlined text-primary">call</span>
                        <div class="flex-1">
                            <p class="text-xs text-gray-500">Phone Number</p>
                            <p id="phoneNumber" class="text-white font-medium">+91 9876543210</p>
                        </div>
                    </div>
                    <div class="flex items-center gap-3 p-2 rounded-xl bg-white/5">
                        <span class="material-symbols-outlined text-primary">home</span>
                        <div class="flex-1">
                            <p class="text-xs text-gray-500">Address</p>
                            <p id="userAddress" class="text-white font-medium">Village Road, Near Temple</p>
                        </div>
                    </div>
                    <div class="flex items-center gap-3 p-2 rounded-xl bg-white/5">
                        <span class="material-symbols-outlined text-primary">location_on</span>
                        <div class="flex-1">
                            <p class="text-xs text-gray-500">Location</p>
                            <p id="userLocation" class="text-white font-medium">Lucknow, Uttar Pradesh</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Account Stats -->
            <div class="glass square-2xl p-4 mb-4">
                <h4 class="font-semibold text-primary mb-3 flex items-center gap-2">
                    <span class="material-symbols-outlined text-lg">analytics</span>
                    Activity Stats
                </h4>
                <div class="space-y-3">
                    <div class="flex justify-between items-center">
                        <span class="text-gray-400">Member Since</span>
                        <span id="memberSince" class="text-white font-semibold">-</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-gray-400">Total Scans</span>
                        <span id="accountTotalScans" class="text-primary font-semibold">0</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-gray-400">Last Active</span>
                        <span id="lastActive" class="text-white font-semibold">-</span>
                    </div>
                </div>
            </div>
            
            <!-- Uploaded Photos Gallery -->
            <div class="glass square-2xl p-4">
                <h4 class="font-semibold text-primary mb-4 flex items-center gap-2">
                    <span class="material-symbols-outlined text-lg">photo_library</span>
                    Uploaded Photos
                </h4>
                <div id="photoGallery" class="grid grid-cols-3 gap-2">
                    <div class="text-center text-gray-500 col-span-3 py-6">
                        <span class="material-symbols-outlined text-4xl mb-2">image</span>
                        <p class="text-sm">No photos uploaded yet</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Main Container - FULL SCREEN -->
<div class="relative flex flex-col w-full h-full min-h-screen overflow-hidden bg-background-light">
<!-- Header Overlay -->
<header class="absolute top-0 left-0 right-0 z-20 flex items-center justify-between px-8 py-6 lg:px-16 lg:py-8">
<h2 class="gradient-text text-2xl lg:text-3xl font-extrabold tracking-tight drop-shadow-md floating">AgriHealth</h2>
<button onclick="openSidebar()" class="flex items-center justify-center w-12 h-12 rounded-full glass text-primary hover:text-white hover:bg-primary/30 transition-all duration-300">
<span class="material-symbols-outlined text-2xl">menu</span>
</button>
</header>
<!-- Hero Image Section -->
<div class="relative h-[50vh] lg:h-[60vh] w-full shrink-0">
<!-- Background Image -->
<div class="absolute inset-0 w-full h-full bg-cover bg-center" data-alt="Vibrant green corn field under sunlight" style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuB6a62nEos_5pxb8Ft4XxnY7og9aMvMGF34i0Av6XtQul8M5--S9wBSiiFex22o5WaOfTWu3ZeX7rS-9owYNvemMBFwlFjhqLL_92H9UuD69AUMfq62fhMrzWlmmpJtrmIvY2_Ohf_LXs9pLtNCfuXdBpKH1Pa2KVJK5F2X4AcaCMD5XSDU3LBRNQaDtlkGpngFQWd1HEGH59f2SvGyCT1thXWAyTDbKrBfjcNMRQ_NEixlTISMDCcP2XoQC4V0MTVw7-oCIPw7kR0');">
</div>
<!-- Gradient Overlay for text readability at top -->
<div class="absolute inset-0 bg-gradient-to-b from-background-light/90 via-background-light/30 to-transparent"></div>
<!-- Color overlay -->
<div class="absolute inset-0 hero-overlay"></div>
</div>
<!-- Content Card Section -->
<div class="relative flex-1 -mt-16 glass rounded-t-[3rem] px-8 lg:px-16 pt-10 pb-8 flex flex-col z-10">
<!-- Handle bar decoration -->
<div class="w-16 h-1.5 bg-gradient-to-r from-primary to-accent rounded-full mx-auto mb-8"></div>
<div class="flex flex-col lg:flex-row lg:items-center lg:justify-between h-full gap-8">
<div class="lg:max-w-2xl">
<span class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/20 text-primary text-sm font-bold uppercase tracking-wider mb-6 shimmer">
<span class="material-symbols-outlined text-lg">eco</span>
                        AI Detection
                    </span>
<h1 class="text-4xl lg:text-6xl font-extrabold text-white leading-[1.1] mb-6 tracking-tight">
                        Protect Your Crops with <span class="gradient-text">Precision</span>
                    </h1>
<p class="text-gray-400 text-lg lg:text-xl leading-relaxed font-normal max-w-xl">
                        Instantly detect diseases, analyze soil health, and get treatment recommendations directly from your phone.
                    </p>
</div>
<div class="mt-8 lg:mt-0 space-y-6 lg:min-w-[400px]">
<!-- Stats / Quick Info Row -->
<div class="flex items-center justify-between py-6 px-4 glass rounded-2xl mb-4">
<div class="flex flex-col items-center stat-card p-3">
<span class="text-3xl lg:text-4xl font-bold text-primary">98%</span>
<span class="text-sm text-gray-400">Accuracy</span>
</div>
<div class="w-px h-12 bg-gradient-to-b from-transparent via-primary/50 to-transparent"></div>
<div class="flex flex-col items-center stat-card p-3">
<span class="text-3xl lg:text-4xl font-bold text-primary">2s</span>
<span class="text-sm text-gray-400">Scan Time</span>
</div>
<div class="w-px h-12 bg-gradient-to-b from-transparent via-primary/50 to-transparent"></div>
<div class="flex flex-col items-center stat-card p-3">
<span class="text-3xl lg:text-4xl font-bold text-primary">50+</span>
<span class="text-sm text-gray-400">Crops</span>
</div>
</div>
<!-- Primary Action -->
<a href="second.html" class="group relative flex w-full cursor-pointer items-center justify-center overflow-hidden rounded-full h-16 bg-gradient-to-r from-primary to-accent btn-glow">
<span class="relative z-10 text-white text-lg font-bold tracking-wide flex items-center gap-3">
<span class="material-symbols-outlined text-2xl">document_scanner</span>
                            Start Analysis
                        </span>
</a>
<!-- Secondary Action / Link -->
<div class="flex justify-center pt-2">
<a class="text-sm font-semibold text-gray-400 hover:text-primary transition-colors duration-300 flex items-center gap-2" href="#">
                            <span class="material-symbols-outlined text-lg">history</span>
                            View Analysis History
                        </a>
</div>
</div>
</div>
</div>
<!-- Bottom Navigation Bar -->
<div class="glass border-t border-white/10 px-8 lg:px-16 py-4 flex justify-center items-center gap-16 lg:gap-24 pb-6">
<button class="nav-btn active flex flex-col items-center gap-1 text-primary">
<span class="material-symbols-outlined text-2xl">home</span>
<span class="text-xs font-semibold">Home</span>
</button>
<button class="nav-btn flex flex-col items-center gap-1 text-gray-500 hover:text-primary transition-all duration-300">
<span class="material-symbols-outlined text-2xl">history</span>
<span class="text-xs font-semibold">History</span>
</button>
<button class="nav-btn flex flex-col items-center gap-1 text-gray-500 hover:text-primary transition-all duration-300">
<span class="material-symbols-outlined text-2xl">info</span>
<span class="text-xs font-semibold">About</span>
</button>
<button class="nav-btn flex flex-col items-center gap-1 text-gray-500 hover:text-primary transition-all duration-300">
<span class="material-symbols-outlined text-2xl">person</span>
<span class="text-xs font-semibold">Profile</span>
</button>
</div>
</div>

<script>
// Sidebar Functions
function openSidebar() {
    document.getElementById('sidebar').classList.remove('-translate-x-full');
    document.getElementById('sidebarOverlay').classList.remove('hidden');
}

function closeSidebar() {
    document.getElementById('sidebar').classList.add('-translate-x-full');
    document.getElementById('sidebarOverlay').classList.add('hidden');
}

// History Functions
function showHistory() {
    closeSidebar();
    document.getElementById('historyModal').classList.remove('hidden');
    loadHistory();
}

function closeHistory() {
    document.getElementById('historyModal').classList.add('hidden');
}

function loadHistory() {
    const history = JSON.parse(localStorage.getItem('analysisHistory') || '[]');
    const totalUploads = history.length;
    const diseasesFound = history.filter(item => item.hasDisease).length;
    const healthyPlants = history.filter(item => !item.hasDisease).length;
    
    document.getElementById('totalUploads').textContent = totalUploads;
    document.getElementById('diseasesFound').textContent = diseasesFound;
    document.getElementById('healthyPlants').textContent = healthyPlants;
    
    const historyList = document.getElementById('historyList');
    
    if (history.length === 0) {
        historyList.innerHTML = `
            <div class="text-center text-gray-500 py-8">
                <span class="material-symbols-outlined text-5xl mb-2">folder_open</span>
                <p>No history found</p>
                <p class="text-sm">Start scanning to see your history</p>
            </div>
        `;
    } else {
        historyList.innerHTML = history.map((item, index) => `
            <div class="glass rounded-xl p-4 flex gap-4 items-center">
                <img src="${item.image}" alt="Scan ${index + 1}" class="w-16 h-16 rounded-lg object-cover">
                <div class="flex-1">
                    <p class="font-semibold text-white">${item.cropName || 'Unknown Crop'}</p>
                    <p class="text-sm ${item.hasDisease ? 'text-red-400' : 'text-green-400'}">
                        ${item.hasDisease ? item.diseaseName : 'Healthy'}
                    </p>
                    <p class="text-xs text-gray-500">${item.date}</p>
                </div>
                <span class="material-symbols-outlined ${item.hasDisease ? 'text-red-400' : 'text-green-400'}">
                    ${item.hasDisease ? 'warning' : 'check_circle'}
                </span>
            </div>
        `).join('');
    }
    
    // Update suggestions based on history
    updateSuggestions(history);
}

function updateSuggestions(history) {
    const suggestions = document.getElementById('suggestions');
    const diseasedCount = history.filter(item => item.hasDisease).length;
    
    let suggestionList = [
        { text: 'Regular scanning helps early disease detection' },
        { text: 'Keep photos in good lighting for better accuracy' },
        { text: 'Follow treatment recommendations promptly' }
    ];
    
    if (diseasedCount > 0) {
        suggestionList.unshift({ text: `You have ${diseasedCount} disease(s) detected. Check treatment options!` });
    }
    
    if (history.length > 5) {
        suggestionList.push({ text: 'Great job! Keep monitoring your crops regularly.' });
    }
    
    suggestions.innerHTML = suggestionList.map(s => `
        <li class="flex items-start gap-2">
            <span class="text-primary">•</span>
            ${s.text}
        </li>
    `).join('');
}

// Account Functions
function showAccount() {
    closeSidebar();
    document.getElementById('accountModal').classList.remove('hidden');
    loadAccount();
}

function closeAccount() {
    document.getElementById('accountModal').classList.add('hidden');
}

function loadAccount() {
    const account = JSON.parse(localStorage.getItem('userAccount') || '{}');
    const history = JSON.parse(localStorage.getItem('analysisHistory') || '[]');
    
    // Set holder name
    const holderName = account.name || 'Guest User';
    document.getElementById('holderName').textContent = holderName;
    
    // Set email
    const userEmail = account.email || 'Not logged in';
    document.getElementById('userEmail').textContent = userEmail;
    
    // Set profile photo
    const profilePhoto = document.getElementById('profilePhoto');
    if (account.photo) {
        profilePhoto.innerHTML = `<img src="${account.photo}" alt="Profile" class="w-full h-full object-cover rounded-2xl">`;
    } else {
        profilePhoto.innerHTML = `<span class="material-symbols-outlined text-6xl text-primary">person</span>`;
    }
    
    // Set personal details
    document.getElementById('fullName').textContent = account.name || 'Farmer User';
    document.getElementById('phoneNumber').textContent = account.phone || '+91 9876543210';
    document.getElementById('userAddress').textContent = account.address || 'Village Road, Near Temple';
    document.getElementById('userLocation').textContent = account.location || 'Lucknow, Uttar Pradesh';
    
    // Set member since
    const memberSince = account.joinDate || new Date().toLocaleDateString();
    document.getElementById('memberSince').textContent = memberSince;
    
    // Set total scans
    document.getElementById('accountTotalScans').textContent = history.length;
    
    // Set last active
    const lastActive = history.length > 0 ? history[history.length - 1].date : 'Never';
    document.getElementById('lastActive').textContent = lastActive;
    
    // Load photo gallery
    loadPhotoGallery(history);
}

function loadPhotoGallery(history) {
    const gallery = document.getElementById('photoGallery');
    
    if (history.length === 0) {
        gallery.innerHTML = `
            <div class="text-center text-gray-500 col-span-3 py-6">
                <span class="material-symbols-outlined text-4xl mb-2">image</span>
                <p class="text-sm">No photos uploaded yet</p>
            </div>
        `;
    } else {
        gallery.innerHTML = history.map((item, index) => `
            <div class="relative aspect-square rounded-xl overflow-hidden border border-white/10">
                <img src="${item.image}" alt="Photo ${index + 1}" class="w-full h-full object-cover">
                <div class="absolute bottom-0 left-0 right-0 bg-black/60 p-1 text-center">
                    <span class="text-xs ${item.hasDisease ? 'text-red-400' : 'text-green-400'}">
                        ${item.hasDisease ? '⚠️' : '✓'}
                    </span>
                </div>
            </div>
        `).join('');
    }
}

// Initialize demo data (remove in production)
function initDemoData() {
    let account = JSON.parse(localStorage.getItem('userAccount') || '{}');
    
    // Check if account needs to be updated with new fields
    if (!account.name || !account.phone || !account.address || !account.location) {
        account = {
            name: account.name || 'Farmer User',
            email: account.email || 'farmer@example.com',
            phone: account.phone || '+91 9876543210',
            address: account.address || 'Village Road, Near Temple',
            location: account.location || 'Lucknow, Uttar Pradesh',
            joinDate: account.joinDate || new Date().toLocaleDateString(),
            photo: account.photo || null
        };
        localStorage.setItem('userAccount', JSON.stringify(account));
    }
}

// Run on page load
initDemoData();
</script>
</body></html>